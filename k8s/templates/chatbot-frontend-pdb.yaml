# ========================================
# Frontend Pod Disruption Budget
# ========================================
# Ensures minimum pods available during voluntary disruptions
# Dev: minAvailable 1 (with 2 replicas) allows 1 pod down during updates
# Prod: minAvailable 1 (with 3 replicas) allows 2 pods down during updates

apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: chatbot-frontend-pdb
  labels:
    app: chatbot-frontend
spec:
  minAvailable: {{ .Values.frontend.pdb.minAvailable }}
  selector:
    matchLabels:
      app: chatbot-frontend
