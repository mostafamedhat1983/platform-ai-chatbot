# ========================================
# Backend Pod Disruption Budget
# ========================================
# Ensures minimum number of backend pods remain available during:
# - Voluntary disruptions (node drains, updates)
# - Prevents all pods being terminated simultaneously

apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: backend-pdb
  labels:
    app: backend
spec:
  minAvailable: {{ .Values.backend.pdb.minAvailable }}
  selector:
    matchLabels:
      app: backend