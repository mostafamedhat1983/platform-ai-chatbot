# ========================================
# Chatbot Application - Default Values
# ========================================
# Base configuration for AI chatbot deployment
# Environment-specific overrides in values-dev.yaml and values-prod.yaml

# ========================================
# Replica Configuration
# ========================================
replicaCount: 1

# ========================================
# Backend Service (FastAPI)
# ========================================
# AWS Bedrock AI chatbot backend
backend:
  image: backend:latest  # TODO: Update with ECR image URL
  port: 8000
  
  # Pod Disruption Budget
  pdb:
    minAvailable: 1  # Minimum pods available during disruptions
  
  # Resource allocation
  resources:
    requests:
      memory: "128Mi"  # Guaranteed memory
      cpu: "100m"      # Guaranteed CPU (0.1 core)
    limits:
      memory: "256Mi"  # Maximum memory
      cpu: "200m"      # Maximum CPU (0.2 core)

# ========================================
# Frontend Service (Streamlit)
# ========================================
# User interface for chatbot interaction
frontend:
  image: frontend:latest  # TODO: Update with ECR image URL
  port: 8501
  
  # Resource allocation
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# ========================================
# Database Configuration
# ========================================
# RDS MySQL connection settings
database:
  host: mysql  # Service name (points to RDS via ExternalName)
  port: 3306

# ========================================
# Environment
# ========================================
environment: dev  # Options: dev, prod